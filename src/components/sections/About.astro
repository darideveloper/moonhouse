---
// DARIDEV: organize imports

// Components
import AboutCard from '../ui/AboutCard.astro'
import CardInfo from '../ui/CardInfo.astro'

// Icons
import { IoLocationOutline, IoReceiptOutline } from 'react-icons/io5'
import { IoTimeOutline } from 'react-icons/io5'
import { IoCalendarOutline } from 'react-icons/io5'

// Libs
import { getInfoCards } from '../../lib/api/infoCards'

// Icon mapping
const iconMap: Record<string, any> = {
  location: IoLocationOutline,
  time: IoTimeOutline,
  clock: IoTimeOutline,
  calendar: IoCalendarOutline,
  reservations: IoCalendarOutline,
  invoice: IoReceiptOutline,
}

// Card data interface
interface CardData {
  iconName: string
  title: string
  description: string
  link: string
}

// JSON data to display on the page
const cardData: CardData[] = await getInfoCards()
---

<section
  class:list={['bg-black', 'py-20', 'w-full']}
  id='about'
>
  <div class:list={['max-w-7xl', 'container']}>
    <!-- Top Info Cards -->
    <div
      class:list={[
        'grid',
        'grid-cols-1 lg:grid-cols-3',
        'justify-center lg:justify-between',
        'gap-12',
        'mb-20',
      ]}
    >
      {
        cardData.map((card, index) => (
          <div
            data-aos='zoom-in-down'
            data-aos-delay={100 * (index + 1)}
          >
            <AboutCard
              icon={iconMap[card.iconName]}
              title={card.title}
              link={card.link}
              content={card.description}
            />
          </div>
        ))
      }
    </div>

    <CardInfo />
  </div>
</section>
