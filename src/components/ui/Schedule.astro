---
// Components
import SmallSubtitle from '../ui/SmallSubtitle.astro'

// Libs
import { getOpeningHours } from '../../lib/api/scheduleapi'
import { groupOpeningHours } from '../../lib/utils/formatschedule'

interface ScheduleDay {
  day: string
  hours: string
}

interface Props {
  title?: string
  schedule?: ScheduleDay[]
  class?: string
  lineClass?: string
}

const {
  class: className = '',
} = Astro.props

// DARIDEV: call data inside component
const openingHoursData = await getOpeningHours()
const workingHours = groupOpeningHours(openingHoursData)
---

<div class:list={['text-white', 'text-center', 'md:text-left', className]}>
  {
    workingHours.map((item) => (
      <div
        class:list={[
          'flex',
          'justify-center md:justify-start',
          'items-center',
          'mb-2',
        ]}
      >
        <span class:list={['text-brand-orange', 'font-medium']}>
          {item.day}
        </span>
        <span class:list={['text-white', 'ml-2']}>{item.hours}</span>
      </div>
    ))
  }
</div>
